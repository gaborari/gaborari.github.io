var titles,loadingString,signInString,preloaders;function localizeSplashTitle(){loadingString=document.querySelector("#loading-string"),signInString=document.querySelector("#signin-string"),loadingString.classList.remove("splash-title");switch(document.body.id){case"index":titles=[{lang:"en",title:"Welcome"},{lang:"en-US",title:"Welcome"},{lang:"fr",title:"Bienvenue"},{lang:"fr-FR",title:"Bienvenue à"}];break;case"callback":titles=[{lang:"en",title:"Authenticated"},{lang:"en-US",title:"Authenticated"},{lang:"fr",title:"Authentifié"},{lang:"fr-FR",title:"Authentifié"}];break;case"logout":titles=[{lang:"en",title:"You are logged out",signin:"SIGN IN"},{lang:"en-US",title:"You are logged out",signin:"SIGN IN"},{lang:"fr",title:"Vous êtes déconnecté",signin:"CONNEXION"},{lang:"fr-FR",title:"Vous êtes déconnecté",signin:"CONNEXION"}]}}function localize(n){var t=titles[0].title,i=titles[0].signin;titles.forEach(function(e){e.lang===n&&(t=e.title,i=e.signin)}),loadingString.classList.add("splash-title"),loadingString.innerHTML=t,"logout"===document.body.id&&(signInString.innerHTML=i)}function listenForAppEvents(){loadingString=document.querySelector("#loading-string"),preloaders=document.querySelectorAll(".preloader");var i=document.querySelector(".mdc-linear-progress");removeClassHandler(),document.querySelector("#loading-string").addEventListener("animationend",removeClassHandler),window.addEventListener("message",function e(n){switch(n.data.eventType){case"loadingEvent":console.log("loading event received: "+n.data.eventLabel);var t=window.mdc.linearProgress.MDCLinearProgress.attachTo(i);t.progress=n.data.progress,t.buffer=n.data.progress+.2,loadingString.classList.add("splash-title"),loadingString.innerHTML=n.data.eventLabel;break;case"appReadyEvent":loadingString.removeEventListener("animationend",removeClassHandler),window.removeEventListener("message",e,!1),removeSplashScreen()}},!1)}function removeClassHandler(){}function removeSplashScreen(){setTimeout(function(){for(var e=0;e<preloaders.length;e++){var n=preloaders[e];n.parentNode.removeChild(n)}},500)}function showLoadingError(e){var n='<span class="error-text">ERROR</span><p>'+e.message.replace(/(?:\r\n|\r|\n)/g,"<br>")+'</p><p class="error-text">Please contact your administrator</p>',t=document.querySelector("#errorPanel");t.classList.add("error-panel"),t.innerHTML=n}document.addEventListener("DOMContentLoaded",function(e){listenForAppEvents(),localizeSplashTitle(),localize(window.navigator.language)});